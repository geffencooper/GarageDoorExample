# GarageDoorExample
A simulation of a garage door using PyRTL

This example simulates a garage door. A garage door can be in one of four states: Closed, Opening, Opened, and Closing.(It can also be paused in the middle but this behavior is the same as opened or closed so we can say that if we want to pause while we are opening we just set the state to opened and if we want to pause while the are closing we can set the state to closed). The garage door can have four inputs: clicking the button which tells the garage to open pause(opened/closed) or close, a closed switch that tells the motor to stop when the garage is fully closed, an opened switch that tells the motor to stop when the garage is fully opened, and a sensor that tells the garage to switch from opening to closing if something is in the way - this input can only be triggered if the garage is in the closing state, otherwise it has no effect. To design this, an adder and a register will be used. The register will hold the current state of the garage and feed the current state into the adder as well as the output. The adder will add two two bit numbers, the first being the input and the second being the current state. This will have the effect of incrementing the state by one, or two, in order to switch states. So for example if the state is closed, the register will hold 00 and put that as one number for the adder. Then when we click  the button, the other number for the adder will be 01, and the sum of 00 and 01 is just 01. This will be fed to the state so the next state is 01 which is opening. This will then go back to the adder until something else is added. So every time the button is clicked we go from 00 closed, to 01 opening, to 10 opened, to 11 closing, and then 100 which drops back to 00 closed because our adder and state only hold two bits. The only exception is if we are closing and the sensor detects an object. If this happens, it will feed 10 to the adder so our state will go from 11 closing to 101 which  drops to 01 opening - this moves two states. For simplicity our closed and opened switch will not depend on the state, like the sensor doe, because they both have the same action of pausing the garage and both increment by one. **A logic diagram and a state diagram are shown below.**

![logicdiagram](https://user-images.githubusercontent.com/21958691/45708116-79726100-bb35-11e8-96e0-dfcab0c485b6.jpg)

![statediagram](https://user-images.githubusercontent.com/21958691/45708785-26011280-bb37-11e8-9378-ed1a7939f3a1.jpg)
